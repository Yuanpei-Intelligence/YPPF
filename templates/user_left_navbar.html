{% comment %}
# XXX: Vars {{ bar_display }}
# XXX: Request {{ session.Incharge }}
{% endcomment %}
<!--  BEGIN SIDEBAR  -->

<div class="sidebar-wrapper sidebar-theme">

    <nav id="sidebar">
        <div class="shadow-bottom"></div>
        <ul class="list-unstyled menu-categories ps ps--active-y" id="accordionExample">

            <li class="menu">
                <a href="{{bar_display.profile_url}}" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- home -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-home">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                        <span>个人主页</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="{{bar_display.underground_url}}" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- layers -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-layers">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>
                        <span>地下室预约</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="/feedback/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- feedbacks -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="21 8 21 21 3 21 3 8" />
                            <rect x="1" y="3" width="22" height="5" />
                            <line x1="10" y1="12" x2="14" y2="12" />
                        </svg>
                        <span>反馈中心</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="#dashboard5" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- stop-circle -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-stop-circle">
                            <circle cx="12" cy="12" r="10"></circle>
                            <rect x="9" y="9" width="6" height="6"></rect>
                        </svg>
                        <span>元气值</span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-chevron-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                </a>
                <ul class="collapse submenu list-unstyled" id="dashboard5" data-parent="#accordionExample">
                    <li>
                        <a href="{% url 'myYQPoint' %}">我的元气值</a>
                    </li>
                    <li>
                        <a href="{% url 'myPrize' %}">我的奖品</a>
                    </li>
                    <li>
                        <a href="{% url 'showPools' %}">元气值商城</a>
                    </li>
                </ul>
            </li>
            <li class="menu">
                <a href="/subscribeOrganization/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- check-square -->
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                            <polyline points="9 11 12 14 22 4"></polyline>
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                        </svg> <span>小组一览</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="/selectCourse/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                        </svg>
                        <span>书院课程</span>
                    </div>
                </a>
            </li>
            <!--
            <li class="menu">
                <a href="/stuinfo/#organization" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users">
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>我的小组</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="/stuinfo/#activity" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>
                        <span>我的活动</span>
                    </div>
                </a>
            </li>
            -->
            {% if bar_display.person_type == 1 %}
            <li class="menu">
                <a href="#dashboard4" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- repeat -->
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                            <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
                            <line x1="8" y1="2" x2="8" y2="18"></line>
                            <line x1="16" y1="6" x2="16" y2="22"></line>
                        </svg> <span>学术地图</span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-chevron-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                </a>
                <ul class="collapse submenu list-unstyled" id="dashboard4" data-parent="#accordionExample">
                    <li>
                        <a href="/modifyAcademic/">编辑学术地图</a>
                    </li>
                    <li>
                        <a href="/AcademicQA/">学术地图问答</a>
                    </li>
                </ul>
            </li>
            {% endif %}

            {% if bar_display.person_type == 0 %}
            <li class="menu">
                <a href="/showActivity/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z" />
                            <line x1="16" y1="8" x2="2" y2="22" />
                            <line x1="17.5" y1="15" x2="9" y2="15" />
                        </svg>
                        <span>活动立项审核</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="/showNewOrganization/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- user-plus -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-users">
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <line x1="18" y1="6" x2="18" y2="14" />
                            <line x1="14" y1="10" x2="22" y2="10" />
                        </svg>
                        <span>新建小组审核</span>
                    </div>
                </a>
            </li>
            {% else %}
            <li class="menu">
                <a href="/showPosition/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'
                            stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'
                            class='feather feather-smile'>
                            <circle cx='12' cy='12' r='10'></circle>
                            <path d='M8 14s1.5 2 4 2 4-2 4-2'></path>
                            <line x1='9' y1='9' x2='9.01' y2='9'></line>
                            <line x1='15' y1='9' x2='15.01' y2='9'></line>
                        </svg>
                        <span>成员申请</span>
                    </div>
                </a>
            </li>

            <li class="menu">
                <a href="/showNewOrganization/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- user-plus -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-users">
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <line x1="18" y1="6" x2="18" y2="14" />
                            <line x1="14" y1="10" x2="22" y2="10" />
                        </svg>
                        <span>新建小组</span>
                    </div>
                </a>
            </li>
            <li class="menu">
                <a href="/yplibrary/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- user-plus -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" 
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
                        class="feather feather-book">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                        <span>元培书房</span>
                    </div>
                </a>
            </li>
            {% endif %}

            {% if bar_display.is_auditor %}
            <li class="menu">
                <a href="/endActivity/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="22 12 16 12 14 15 10 15 8 12 2 12" />
                            <path
                                d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z" />
                        </svg>
                        <span>活动结项审核</span>
                    </div>
                </a>
            </li>
            {% endif %}

            {% if bar_display.person_type == 0 %}
            <li class="menu">
                <a href="/auditAcademic/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
                            <line x1="8" y1="2" x2="8" y2="18"></line>
                            <line x1="16" y1="6" x2="16" y2="22"></line>
                        </svg>
                        <span>学术地图审核</span>
                    </div>
                </a>
            </li>
            {% endif %}

            {% if request.session.Incharge %}
            <li class="menu">
                <a href="#dashboard2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- repeat -->
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                            <polyline points="17 1 21 5 17 9"></polyline>
                            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                            <polyline points="7 23 3 19 7 15"></polyline>
                            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                        </svg> <span>切换到小组</span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-chevron-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                </a>
                <ul class="collapse submenu list-unstyled" id="dashboard2" data-parent="#accordionExample">
                    {% for oname in request.session.Incharge %}
                    <li>
                        <!-- TODO   Onclick 添加 origin  但是由于个人和组织能看的页面并不统一，暂且不加了 -->
                        <a href="/shiftAccount/?oname={{oname}}"> {{oname}}</a>
                    </li>

                    {% endfor %}
                </ul>
            </li>
            {% endif %}

            {% if bar_display.is_staff %}
            <li class="menu">
                <a href="/admin/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- arrow-right-circle -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-arrow-right-circle">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 16 16 12 12 8"></polyline>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span>管理后台</span>
                    </div>
                </a>
            </li>
            {% endif %}

            <li class="menu">
                <a href="#dashboard6" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" >
                    <div class="">
                        <!-- layers -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-layers">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>
                        <span>住宿生活</span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-chevron-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                </a>
                <ul class="collapse submenu list-unstyled" id="dashboard6" data-parent="#accordionExample">
                    <li>
                        <a href="{% url 'dormitory-routine-QA' %}">生活习惯调研</a>
                    </li>
                    <li>
                        <a href="{% url 'dormitory-assign-result' %}">宿舍分配结果</a>
                    </li>
                </ul>
            </li>

            <li class="menu">
                <a href="#dashboard3" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" onclick="ModuleTrackFunction(3,'账户设置')">
                    <div class="">
                        <!-- settings -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-users">
                            <path
                                d="m3.000 10.000L1.000 10.000L1.000 14.000L3.000 14.000L4.222 16.950L2.808 18.364L5.636 21.192L7.050 19.778L10.000 21.000L10.000 23.000L14.000 23.000L14.000 21.000L16.950 19.778L18.364 21.192L21.192 18.364L19.778 16.950L21.000 14.000L23.000 14.000L23.000 10.000L21.000 10.000L19.778 7.050L21.192 5.636L18.364 2.808L16.950 4.222L14.000 3.000L14.000 1.000L10.000 1.000L10.000 3.000L7.050 4.222L5.636 2.808L2.808 5.636L4.222 7.050L3.000 10.000z" />
                            <circle cx="12" cy="12" r="5" />
                        </svg>
                        <span>账户设置</span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-chevron-right">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </div>
                </a>
                <ul class="collapse submenu list-unstyled" id="dashboard3" data-parent="#accordionExample">
                    <li onclick="ModuleTrackFunction(3,'信息与隐私')">
                        <a href="/userAccountSetting/">信息与隐私</a>
                    </li>
                    <li onclick="ModuleTrackFunction(3,'修改密码')">
                        <a href="/modpw/">修改密码</a>
                    </li>
                </ul>
            </li>

            <li class="menu">
                <a href="/logout/" aria-expanded="false" class="dropdown-toggle">
                    <div class="">
                        <!-- log-out -->

                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg> <span>登出</span>

                    </div>
                </a>
            </li>
        </ul>

    </nav>
</div>
<!--  END SIDEBAR  -->
