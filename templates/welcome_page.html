{% extends "base.html" %}

{% load static %}

{% block mainpage %}


    <!--  BEGIN CONTENT PART  -->
    <div id="content" class="main-content">

        <div class="layout-px-spacing">

            {% if html_display.warn_code == 2 %}
                <div class="alert alert-success  text-center">{{html_display.warn_message}}</div>
            {% elif html_display.warn_code == 1 %}
                <div class="alert alert-warning  text-center">{{html_display.warn_message}}</div>
            {% endif %}

            <div class="row ">
                <!--1. 头条新闻-->
                <div class="col-xl-8 col-lg-8 col-md-7 col-sm-12 layout-top-spacing">
                    <div id="style1" class="carousel slide style-custom-1" data-ride="carousel">
                        <ol class="carousel-indicators">
                           <li data-target="#style1" data-slide-to="0" class="active"></li>
                           <li data-target="#style1" data-slide-to="1"></li>
                           <li data-target="#style1" data-slide-to="2"></li>
                       </ol> 
                       <div class="carousel-inner">
                           <div class="carousel-item active">
                               <img class="d-block w-100 slide-image" id="0" src={% static "assets/img/1.jpeg.jpg" %} alt="First slide">
                           </div>
                           <div class="carousel-item">
                               <img class="d-block w-100 slide-image" id="1" src={% static "assets/img/1.jpeg.jpg" %} alt="Second slide">
                           </div>
                           <div class="carousel-item">
                               <img class="d-block w-100 slide-image" id="2" src={% static "assets/img/1.jpeg.jpg" %} alt="Third slide">
                           </div>
                       </div>
                        <a class="carousel-control-prev" href="#style1" role="button" data-slide="prev">
                               <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                               <span class="sr-only">Previous</span>
                       </a>
                       <a class="carousel-control-next" href="#style1" role="button" data-slide="next">
                               <span class="carousel-control-next-icon" aria-hidden="true"></span>
                               <span class="sr-only">Next</span>
                       </a> 
                   </div>
                </div>

                <!-- 4&5 天气和歌曲 -->
                <div class="col-xl-4 col-lg-4 col-md-5 col-sm-12 layout-top-spacing ">
                        <p>实时天气</p>
                </div>

            </div>

            <div class="row">

                 <!--2&3 近期活动&最新发布-->

                <div class="col-xl-8 col-lg-8 col-md-7 col-sm-12 layout-top-spacing bio">
                    <div class="widget-content widget-content-area">

                        <ul id="Tab" class="nav nav-tabs nav-tabs-solid nav-justified">
                            <li class="nav-item">
                                <a class="nav-link active" href="#todayactivity" data-toggle="tab">
                                    近期活动
                                </a>
                            </li>
                    
                            <li class="nav-item">
                                <a class="nav-link" href="#todaynews" data-toggle="tab">
                                    最新发布&今日截止
                                </a>
                            </li>
                    
                        </ul>

                        <div class="tab-content">

                            <div id="todayactivity" class="tab-pane active">
                                <h3>近期活动</h3>
                                <p>TIP：这里展示前后一周内开始进行的活动</p>
                                {% if recentactivity_list|length == 0 %}
                                    <p style="text-align: center;">没有该类别的活动</p>
                                {% endif %}
                                <div class="pre-scrollable bio-skill-box layout-top-spacing">
                                    <div class="row">
                                        {% for act in recentactivity_list %}
                                            <div class="col-12 col-xl-6 col-lg-6 mb-xl-5 mb-5 ">
                                                <a href="/viewActivity/{{act.id}}">
                                                    <div class="d-flex b-skills">
                                                        <div class="text-nowrap" style='overflow: hidden;text-overflow: ellipsis;'>
                                                            <div class="d-flex justify-content-between">
                                                                <h5>{{act.title}}
                                                                {% if act.status == "等待中" %}
                                                                    <span class="badge badge-pill badge-info">{{act.status}}</span>
                                                                {% else %}
                                                                    <span class="badge badge-pill badge-success">{{act.status}}</span>
                                                                {% endif %}
                                                                </h5>
                                                            </div>
                                                            <p>{{act.introduction}}</p>
                                                            <p>活动开始时间： {{act.start}}</p>
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
    
                            <div id="todaynews" class="tab-pane fade">
                                <h3>最新发布</h3>
                                <p>TIP：这里展示近三日发布的活动</p>
                                {% if newlyreleased_list|length == 0 %}
                                    <p style="text-align: center;">没有该类别的消息</p>
                                {% endif %}
                                <div class="pre-scrollable bio-skill-box layout-top-spacing">
                                    <div class="row">
                                        {% for act in newlyreleased_list %}
                                        <div class="col-12 col-xl-6 col-lg-6 mb-xl-5 mb-5 ">
                                            <a href="/viewActivity/{{act.id}}">
                                                <div class="d-flex b-skills">
                                                    <div class="text-nowrap" style='overflow: hidden;text-overflow: ellipsis;'>
                                                        <div class="d-flex justify-content-between">
                                                            <h5>{{act.title}}
                                                            {% if act.status == "等待中" %}
                                                                <span class="badge badge-pill badge-info">{{act.status}}</span>
                                                            {% else %}
                                                                <span class="badge badge-pill badge-success">{{act.status}}</span>
                                                            {% endif %}
                                                            </h5>
                                                        </div>
                                                        <p>{{act.introduction}}</p>
                                                        <p>活动开始时间： {{act.start}}</p>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    {% endfor %}
                                    </div>
                                </div>

                                <h3>今日截止</h3>
                                <p>TIP：这里展示今天截止报名的活动</p>
                                {% if today_signup_list|length == 0 %}
                                    <p style="text-align: center;">没有该类别的消息</p>
                                {% endif %}
                                <div class="pre-scrollable bio-skill-box layout-top-spacing">
                                    <div class="row">
                                        {% for rec in today_signup_list %}
                                            <div class="col-12 col-xl-6 col-lg-6 mb-xl-5 mb-5 ">
                                                <a href="/viewActivity/{{rec.act.id}}">
                                                    <div class="d-flex b-skills" >
                                                        <div class="text-nowrap" style='overflow: hidden;text-overflow: ellipsis;'>
                                                            <div class="d-flex justify-content-between">
                                                                <h5>{{rec.act.title}}
                                                                <span class="badge badge-pill badge-success">{{rec.act.status}}</span>
                                                                </h5>
                                                            </div>
                                                            <p>{{rec.act.introduction}}</p>
                                                            <p>报名截止时间： {{rec.deadline}}</p>
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!--6. 心愿墙-->
                <div class="col-xl-4 col-lg-4 col-md-5 col-sm-12 layout-top-spacing bio ">
                    <div class="widget-content widget-content-area">
                        <div class="d-flex justify-content-between">
                            <h3>心愿墙</h3>
                            <a href="#myModal" class="mt-2 edit-profile" data-toggle="modal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                            </a>
                        </div>

                        <!-- 模态框 -->
                        <div class="modal fade" id="myModal">
                            <div class="modal-dialog">
                              <div class="modal-content">
                           
                                <!-- 模态框头部 -->
                                <div class="modal-header">
                                  <h4 class="modal-title">添加心愿</h4>
                                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                           
                                <!-- 模态框主体 -->
                                <div class="modal-body">
                                    <form method="POST">
                                        <textarea id="wish" name="wish" class="form-control" rows="3"
                                            placeholder="填写你的心愿"></textarea>
                                    </form>
                                </div>
                           
                                <!-- 模态框底部 -->
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-primary" data-dismiss="modal">提交</button>
                                </div>
                           
                              </div>
                            </div>
                          </div>

                        <p>TIPS:展示今日心愿</p>
                        <div class="pre-scrollable bio-skill-box layout-top-spacing">
                            {% for wish in wishes %}
                            <div class="col-12" style="padding: 2%;">
                                    <div class="d-flex b-skills"style="padding: 5%;" >
                                        <p>wish.text</p>
                                    </div>
                            </div><br/>
                            {% endfor %}
                        </div>
                    </div>
                        
                </div>

            </div>
            <!--
            <div class="row layout-top-spacing">

                <div class="jumbotron">
                    <div class="container">
                        <h1 class="display-3">你好，元培！</h1>
                        <p>This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
                    </div>
                </div>
                
                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            <h2>元培团委</h2>
                            <p>庆祝共产党成立100周年，学院举办学党史教育活动。 </p>
                            <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
                        </div>
                        <div class="col-md-4">
                            <h2>元培学生会</h2>
                            <p>绍兴论坛举办在即，点击查看详情。 </p>
                            <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
                        </div>
                        <div class="col-md-4">
                            <h2>元培学学学</h2>
                            <p>通识课改革问卷已发布，请同学们点此处填写！</p>
                            <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
                        </div>
                        <div class="col-md-4">
                            <h2>元培书房</h2>
                            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                            <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
                            </div>
                    </div>
                    <hr>
                </div>
            
                <hr>
            </div>
            -->

        </div>
        <!--  END CONTENT PART  -->

    </div>
<!-- END MAIN CONTAINER -->

{% endblock %}